<p> </p><h4>Novedades en Java 11</h4><p>En este documento vamos a describir algunas de las principales novedades que ha aparecido en la versin Java 11, en lo que a lenguaje y APIs de uso general se refiere.</p><h4>Inferencia de tipos en parmetros de expresiones lambda</h4><p>Java 10 incorpor la inferencia de tipos en variables locales. A partir de Java 11, tambin es posible aplicar esta caractersticas a los parmetros de una expresin lambda.</p><p>Por ejemplo, hasta Java 8 una expresin lambda que incluyera parmetros podra escribirse segn estos ejemplos:</p><p><code>(int a, int b)-&gt;a*b;</code></p><p>o simplemente:</p><p><code>(a,b)-&gt;a*b;</code></p><p>A partir de Java 11, tambin puede escribirse de esta manera:</p><p><code>(var a, var b)-&gt;a*b;</code></p><p>Si se decide utilizar var para inferir el tipo en los parmetros, deber hacerse con todos ellos. Las siguientes expresiones lambda son incorrectas:</p><pre class="prettyprint linenums">(var a,b)-&gt;a*b;
(var a, int b)-&gt;a*b;</pre><p>Y, Qu sentido tiene utilizar var para inferencia de tipos en parmetros de lambda si ya se puede inferir el tipo indicando solo el nombre de la variable?. Resulta que en aquellos casos en los que queramos anotar un parmetro de una expresin lambda solo podremos hacerlo si indicamos el tipo de la variable o bien usamos var. Por ejemplo, si queremos incluir la anotacin @NonNull del checker framework para verificar que un parmetro no es null, deberamos declarar el parmetro con var:</p><pre class="prettyprint linenums">(@NotNull a)-&gt;System.out.println(a); //incorrecto
(@NotNull var a)-&gt;System.out.println(a); //correcto</pre><h4>Lanzamiento de programas de un nico archivo de cdigo fuente</h4><p>Si un programa Java est formado por un nico archivo de cdigo fuente, ya no es necesario compilar el archivo desde lnea de comandos con javac.exe y ejecutarlo despus con java.exe, es posible utilizar el comando java.exe sobre el archivo de cdigo fuente, lo que provocar la compilacin y seguida ejecucin del mismo:</p><p>&gt;java Test.java //compila primero y luego ejecuta la clase Test</p><h4>Nuevos mtodos en la clase String</h4><p>Java 11 incorpora nuevos mtodos en la clase String. Estos son:</p><p>boolean isBlank(). Devuelve <em>true</em> si la cadena est vaca o solamente contiene espacios en blanco. No debemos confundir con <em>isEmpty()</em>, que devuelve <em>true</em> solo si la longitud de la cadena es 0.</p><ul><li><p> <strong>Stream lines()</strong>. Devuelve un stream con las lneas que forman la cadena.</p></li><li><p><strong>String repeat(int n)</strong>. Devuelve una cadena resultado de concatenar la cadena actual, tantas veces como se indica en el parmetro.</p></li><li><p> <strong>String strip()</strong>. Devuelve una nueva cadena resultante de eliminar espacios a izquierda y derecha. Es prcticamente igual <em>a trim()</em>, se diferencian en el concepto de espacio en blanco de cada uno, pues hay determinados cdigo unicode que representan espacios en blanco pero <em>trim() </em>no los reconoce como tal, como por ejemplo '\u2000'.</p></li><li><p><strong>String </strong><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#stripLeading()" rel="noopener noreferrer" target="_blank"><strong>stripLeading</strong></a><strong>()</strong>.Devuelve una nueva cadena resultante de eliminar espacios a izquierda</p></li><li><p><strong>String </strong><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#stripLeading()" rel="noopener noreferrer" target="_blank"><strong>stripTrailing</strong></a><strong>()</strong>.Devuelve una nueva cadena resultante de eliminar espacios a derecha</p></li></ul><h4>Nuevos mtodos de Files</h4><p>La clase Files del paquete java.nio.file tambin incorpora nuevos e interesantes mtodos en esta versin Java 11:</p><ul><li><p><strong>String readString(Path path)</strong>. Devuelve un String con el contenido completo de un fichero, decodificando cada byte en un carcter segn el estndar UTF-8. Existe otra versin de este mtodo <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#readString(java.nio.file.Path,java.nio.charset.Charset)" rel="noopener noreferrer" target="_blank">readString</a>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Path.html" rel="noopener noreferrer" target="_blank" title="interface in java.nio.file">Path</a>path, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/charset/Charset.html" rel="noopener noreferrer" target="_blank" title="class in java.nio.charset">Charset</a>cs), que permite utilizar otro sistema de codificacin.</p></li><li><p><strong>Path writeString(Path path, CharSequence csq, OpenOption... options)</strong>. Escribe en el fichero la secuencia de caracteres especificada en el segundo parmetro, utilizando codificacin UTF-8. La versin writeString(Path path, CharSequence csq, Charset cs, OpenOption... options) permite utilizar otro sistema de codificacin.</p></li></ul><p>Mediante el siguiente cdigo de ejemplo guardamos en un fichero el contenido de una cadena de caracteres:</p><pre class="prettyprint linenums">String uri="c:\\temp\\datos.txt";
Path path=Paths.get(uri);
String cad="cadena de prueba para fichero";
Files.writeString(path, cad);</pre>